{\rtf1\mac\ansicpg10000\cocoartf102
{\fonttbl\f0\fswiss\fcharset77 Helvetica-Bold;\f1\fnil\fcharset77 Monaco;\f2\fswiss\fcharset77 Helvetica;
}
{\colortbl;\red255\green255\blue255;\red0\green0\blue191;\red0\green0\blue0;\red0\green0\blue191;
\red96\green96\blue96;\red191\green0\blue0;\red0\green115\blue0;\red96\green96\blue96;}
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs36 \cf0 DiskIn
\f1\b0\fs18 \cf2 \
\
\
	DiskIn\cf0 .ar(numChannels,bufnum)\
	\cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs24 \cf0 Continously play a longer soundfile from disk.  This requires a buffer to be preloaded with one buffer size of sound.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f1\fs18 \cf0 \
\
\cf3 \
\
(\
\
\cf4 File\cf3 .openDialog(\cf5 "Choose a long stereo soundfile..."\cf3 ,\{ \cf4 arg\cf3  path;\
	\cf6 //read a file into the buffer\
\cf3 	b = \cf4 Buffer\cf3 .cueSoundFile(s,path,0,2);\
\});\
\
\
\{\
	\cf4 DiskIn\cf3 .ar( 2, b.bufnum )\
\}.play\
		\
)	\
	\
	\
	\
\
( \cf6 // cue and play right away\
\cf3 \
\cf4 SynthDef\cf3 (\cf5 "help-Buffer"\cf3 ,\{ \cf4 arg\cf3  out=0,bufnum;\
			\cf4 Out\cf3 .ar(out,\
				\cf4 DiskIn\cf3 .ar( 2, bufnum )\
			)\
\}).load(s);\
		\
m = \{ \cf4 arg\cf3  buf; [\cf5 "/s_new"\cf3 , \cf5 "help-Buffer"\cf3 , s.nodeAllocator.alloc, 1, 0,\
				\cf7 \\bufnum\cf3 ,buf.bufnum]\};\
\
\cf4 File\cf3 .openDialog(\cf5 "Choose a long stereo soundfile..."\cf3 ,\{ \cf4 arg\cf3  path;\
	\cf6 //read a file into the buffer and play it right away\
\cf3 	b = \cf4 Buffer\cf3 .cueSoundFile(s,path,0,2, completionMessage: m);\
\});\
\
)		\
	\cf0 	\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural
\cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs24 \cf0 Buffer size must be a multiple of (2 * synth block size).  Default block\
size is 128.  See ServerOptions for setting block size.\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f1\fs18 \cf0 \
s = \cf2 SoundFile\cf0 .new;\
s.openRead(\cf8 "sounds/a11wlk01.wav"\cf0 );\
s.inspect\
\
only 26977 frames, smaller than one buffer size, so it can't be used to demonstrate DiskIn.\
}