{\rtf1\mac\ansicpg10000\cocoartf102
{\fonttbl\f0\fnil\fcharset77 Monaco;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red0\green0\blue191;\red96\green96\blue96;
\red191\green0\blue0;\red0\green115\blue0;}
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\fs18 \cf2 s = \cf3 Server\cf2 .local;\
s.boot;
\fs24 \
\

\fs18 (\
\cf3 SynthDef\cf2 (\cf4 "help-sinegrain"\cf2 , \
	\{ \cf3 arg\cf2  out=0, freq=440, i_dur=0.005;\
		\cf3 var\cf2  env;\
		env = \cf3 EnvGen\cf2 .kr(\cf3 Env\cf2 .perc(i_dur*0.1, i_dur*0.9, 0.2), doneAction:2);\
		\cf3 Out\cf2 .ar(out, \cf3 Pan2\cf2 .ar(\cf3 SinOsc\cf2 .ar(freq, 0, env), \cf3 Rand\cf2 (-1,1)))\
	\}).load(s);\
)\
\
\cf5 //pb333: 7.1 avg% 8.6% peak\
\cf2 (\
\cf3 Routine\cf2 (\{\
	loop(\{\
			\cf3 Synth\cf2 (\cf4 "help-sinegrain"\cf2 , [\cf6 \\freq\cf2 , rrand(9000.0, 18000.0)], s);\
			0.005.wait;\
	\})\
\}).play;\
)\
\
\cf5 //pb333: 6.4 % avg ca 8.6% peak\
\cf2 (\
\cf3 Routine\cf2 (\{\
	loop(\{\
			s.sendMsg(\cf4 "/s_new"\cf2 , \cf4 "help-sinegrain"\cf2 , \cf3 UniqueID\cf2 .next, 1, 0, \cf6 \\freq\cf2 , rrand(9000.0, 18000.0));\
			0.005.wait;\
	\})\
\}).play;\
)\
\
\cf5 //pb333: 7.1 avg% 7.6% peak\
\cf2 (\
\cf3 Routine\cf2 (\{\
	loop(\{\
			\cf3 Synth\cf2 .newUnlinked(\cf4 "help-sinegrain"\cf2 , [\cf6 \\freq\cf2 , rrand(9000.0, 18000.0)]);\
			0.005.wait;\
	\})\
\}).play;\
)\
\
\cf5 ////////////////////////////\
\cf2 \
\cf5 //oscillator benchmarks: parallel synths\
\
\cf2 (\
\cf3 SynthDef\cf2 (\cf4 "help-sinebechmark"\cf2 , \
	\{\
		\cf3 Out\cf2 .ar(0, \cf3 SinOsc\cf2 .ar(\cf3 Rand\cf2 (200, 700), 0, 0.01))\
	\}).load(s);\
)\
\
\cf5 //pb333: avg cpu: 21.5 % (32 UGens, 8 synths)\
\cf2 8.do(\{ \cf3 Synth\cf2 .new(\cf4 "help-sinebechmark"\cf2 ); \});\
\
\cf5 //pb333: avg cpu: 42.5 % (64 UGens, 16 synths)\
\cf2 8.do(\{ \cf3 Synth\cf2 .new(\cf4 "help-sinebechmark"\cf2 ); \});\
\
\cf5 //pb333: avg cpu: 63 % (64 UGens, 24 synths)\
\cf2 8.do(\{ \cf3 Synth\cf2 .new(\cf4 "help-sinebechmark"\cf2 ); \});\
\
\cf5 //pb333: avg cpu: 74 % (112 UGens, 28 synths) (GUI gets slow)\
\cf2 4.do(\{ \cf3 Synth\cf2 .new(\cf4 "help-sinebechmark"\cf2 ); \});\
\
\
\cf5 ///////////using Mix ugen\
\cf2 \
(\
\cf3 SynthDef\cf2 (\cf4 "help-sinebechmark2"\cf2 , \
	\{\
		\cf3 Out\cf2 .ar(0, \
			\cf3 Mix\cf2 .fill(16, \{ \cf3 SinOsc\cf2 .ar(rrand(200.0, 700), 0, 0.01) \})\
		)\
	\}).load(s);\
)\
\
\cf5 //pb333: avg cpu: 38.8 % (33 UGens, 1 synth)\
\cf3 Synth\cf2 .new(\cf4 "help-sinebechmark2"\cf2 );\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\fs24 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\fs18 \cf2 \
\cf5 //pb333: avg cpu: 77 % (66 UGens, 2 synth) (GUI gets slow)\
\cf3 Synth\cf2 .new(\cf4 "help-sinebechmark2"\cf2 );
\fs24 \
\
\
}